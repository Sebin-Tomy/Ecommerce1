<!doctype html>
<html lang="en" data-bs-theme="light" data-footer="dark">


<!-- Mirrored from themesbrand.com/toner/html/frontend/checkout.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 19 Feb 2024 09:03:11 GMT -->
<head>

    <meta charset="utf-8">
    <title>Checkout | Toner eCommerce + Admin HTML Template</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta content="Toner - eCommerce + Admin HTML Template Build with HTML, React, Laravel, Nodejs" name="description">
    <meta content="Themesbrand" name="author">
    <!-- App favicon -->
    <link rel="shortcut icon" href="/images/favicon.ico">

    <!-- Bootstrap Css -->
    <link href="/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <!-- Icons Css -->
    <link href="/css/icons.min.css" rel="stylesheet" type="text/css">
    <!-- App Css-->
    <link href="/css/app.min.css" rel="stylesheet" type="text/css">
    <!-- custom Css-->
    <link href="/css/custom.min.css" rel="stylesheet" type="text/css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <style>
        @media (max-width: 768px) {
            #addAddressButton, #applyCoupon, #payment_btn {
                width: 100%;
            }
            .form-control {
                margin-bottom: 1rem;
            }
        }
        
    </style>
</head>

<body>
<nav class="navbar navbar-expand-lg ecommerce-navbar top-0" id="navbar">
        <div class="container">
            <a class="navbar-brand d-none d-lg-block" href="index.html">
                <div class="logo-dark">
                    <img src="../assets/images/logo-dark.png" alt="" height="25">
                </div>
                <div class="logo-light">
                    <img src="../assets/images/logo-light.png" alt="" height="25">
                </div>
            </a>
            <button class="btn btn-soft-primary btn-icon d-lg-none" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <i class="bi bi-list fs-20"></i>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mx-lg-auto mb-2 mb-lg-0" id="navigation-menu">
                   
                    <li class="nav-item dropdown dropdown-hover">
                        <a class="" data-key="t-demos" href="/index1" role="button"  aria-expanded="false">
                            Home page
                        </a>
                  
                    </li>
                   
                
                   
                
                  
                </ul>
            </div>
            <div class="bg-overlay navbar-overlay" data-bs-toggle="collapse"  data-bs-target="#navbarSupportedContent.show"></div>
  </div>
    </nav>

    <!--cart -->
    <div class="offcanvas offcanvas-end product-list" tabindex="-1" id="ecommerceCart" aria-labelledby="ecommerceCartLabel">
        <div class="offcanvas-header border-bottom">
            <h5 class="offcanvas-title" id="ecommerceCartLabel">My Cart <span class="badge bg-danger align-middle ms-1 cartitem-badge">4</span></h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body px-0">
            <div data-simplebar  class="h-100">
                <ul class="list-group list-group-flush cartlist">
                    <li class="list-group-item product">
                        <div class="d-flex gap-3">
                            <div class="flex-shrink-0">
                                <div class="avatar-md" style="height: 100%;">
                                    <div class="avatar-title bg-warning-subtle rounded-3">
                                        <img src="../assets/images/products/img-4.png" alt="" class="avatar-sm">
                                    </div>
                                </div>
                            </div>
                            <div class="flex-grow-1">
                                <a href="#!">
                                    <h5 class="fs-15">Borosil Paper Cup</h5>
                                </a>
                                <div class="d-flex mb-3 gap-2">
                                    <div class="text-muted fw-medium mb-0">$<span class="product-price">24.00</span></div>
                                    <div class="vr"></div>
                                    <span class="text-success fw-medium">In Stock</span>
                                </div>
                                <div class="input-step">
                                    <button type="button" class="minus">â€“</button>
                                    <input type="number" class="product-quantity" value="2" min="0" max="100" readonly>
                                    <button type="button" class="plus">+</button>
                                </div>
                            </div>
                            <div class="flex-shrink-0 d-flex flex-column justify-content-between align-items-end">
                                <button type="button" class="btn btn-icon btn-sm btn-ghost-secondary remove-item-btn" data-bs-toggle="modal" data-bs-target="#removeItemModal"><i class="ri-close-fill fs-16"></i></button>
                                <div class="fw-medium mb-0 fs-16">$<span class="product-line-price">48.00</span></div>
                            </div>
                        </div>
                    </li>
                    <li class="list-group-item product">
                        <div class="d-flex gap-3">
                            <div class="flex-shrink-0">
                                <div class="avatar-md" style="height: 100%;">
                                    <div class="avatar-title bg-info-subtle rounded-3">
                                        <img src="../assets/images/products/img-1.png" alt="" class="avatar-sm">
                                    </div>
                                </div>
                            </div>
                            <div class="flex-grow-1">
                                <a href="#!">
                                    <h5 class="fs-15">Rockerz Ear Bluetooth Hea...</h5>
                                </a>
                                <div class="d-flex mb-3 gap-2">
                                    <div class="text-muted fw-medium mb-0">$<span class="product-price">160.00</span></div>
                                    <div class="vr"></div>
                                    <span class="text-success fw-medium">In Stock</span>
                                </div>
                                <div class="input-step">
                                    <button type="button" class="minus">â€“</button>
                                    <input type="number" class="product-quantity" value="1" min="0" max="100" readonly>
                                    <button type="button" class="plus">+</button>
                                </div>
                            </div>
                            <div class="flex-shrink-0 d-flex flex-column justify-content-between align-items-end">
                                <button type="button" class="btn btn-icon btn-sm btn-ghost-secondary remove-item-btn" data-bs-toggle="modal" data-bs-target="#removeItemModal"><i class="ri-close-fill fs-16"></i></button>
                                <div class="fw-medium mb-0 fs-16">$<span class="product-line-price">160.00</span></div>
                            </div>
                        </div>
                    </li>
                    <li class="list-group-item product">
                        <div class="d-flex gap-3">
                            <div class="flex-shrink-0">
                                <div class="avatar-md" style="height: 100%;">
                                    <div class="avatar-title bg-danger-subtle rounded-3">
                                        <img src="../assets/images/products/img-6.png" alt="" class="avatar-sm">
                                    </div>
                                </div>
                            </div>
                            <div class="flex-grow-1">
                                <a href="#!">
                                    <h5 class="fs-15">Monte Carlo Sweaters</h5>
                                </a>
                                <div class="d-flex mb-3 gap-2">
                                    <div class="text-muted fw-medium mb-0">$ <span class="product-price">244.99</span></div>
                                    <div class="vr"></div>
                                    <span class="text-success fw-medium">In Stock</span>
                                </div>
                                <div class="input-step">
                                    <button type="button" class="minus">â€“</button>
                                    <input type="number" class="product-quantity" value="3" min="0" max="100" readonly>
                                    <button type="button" class="plus">+</button>
                                </div>
                            </div>
                            <div class="flex-shrink-0 d-flex flex-column justify-content-between align-items-end">
                                <button type="button" class="btn btn-icon btn-sm btn-ghost-secondary remove-item-btn" data-bs-toggle="modal" data-bs-target="#removeItemModal"><i class="ri-close-fill fs-16"></i></button>
                                <div class="fw-medium mb-0 fs-16">$<span class="product-line-price">734.97</span></div>
                            </div>
                        </div>
                    </li>
                    <li class="list-group-item product">
                        <div class="d-flex gap-3">
                            <div class="flex-shrink-0">
                                <div class="avatar-md" style="height: 100%;">
                                    <div class="avatar-title bg-primary-subtle rounded-3">
                                        <img src="../assets/images/products/img-8.png" alt="" class="avatar-sm">
                                    </div>
                                </div>
                            </div>
                            <div class="flex-grow-1">
                                <a href="#!">
                                    <h5 class="fs-15">Men's Running Shoes Act...</h5>
                                </a>
                                <div class="d-flex mb-3 gap-2">
                                    <div class="text-muted fw-medium mb-0">$<span class="product-price">120.30</span></div>
                                    <div class="vr"></div>
                                    <span class="text-success fw-medium">In Stock</span>
                                </div>
                                <div class="input-step">
                                    <button type="button" class="minus">â€“</button>
                                    <input type="number" class="product-quantity" value="2" min="0" max="100" readonly>
                                    <button type="button" class="plus">+</button>
                                </div>
                            </div>
                            <div class="flex-shrink-0 d-flex flex-column justify-content-between align-items-end">
                                <button type="button" class="btn btn-icon btn-sm btn-ghost-secondary remove-item-btn" data-bs-toggle="modal" data-bs-target="#removeItemModal"><i class="ri-close-fill fs-16"></i></button>
                                <div class="fw-medium mb-0 fs-16">$<span class="product-line-price">240.60</span></div>
                            </div>
                        </div>
                    </li>
                </ul>

              \
            </div>
        </div>
        <div class="offcanvas-footer border-top p-3 text-center">
            <div class="d-flex justify-content-between align-items-center mb-3">
                <h6 class="m-0 fs-16 text-muted">Total:</h6>
                <div class="px-2">
                    <h6 class="m-0 fs-16 cart-total">$1218.98</h6>
                </div>
            </div>
            <div class="row g-2">
                <div class="col-6">
                    <button type="button" class="btn btn-light w-100" id="reset-layout">View Cart</button>
                </div>
                <div class="col-6">
                    <a href="#!" target="_blank" class="btn btn-info w-100">Continue to Checkout</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="searchModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content rounded">
                <div class="modal-header p-3">
                    <div class="position-relative w-100">
                        <input type="text" class="form-control form-control-lg border-2" placeholder="Search for Toner..." autocomplete="off" id="search-options" value="">
                        <span class="bi bi-search search-widget-icon fs-17"></span>
                        <a href="javascript:void(0);" class="search-widget-icon fs-14 link-secondary text-decoration-underline search-widget-icon-close d-none" id="search-close-options">Clear</a>
                    </div>
                </div>
                <div class="dropdown-menu dropdown-menu-lg dropdown-menu-end p-0 overflow-hidden" id="search-dropdown">

                    <div class="dropdown-head rounded-top">
                        <div class="p-3">
                            <div class="row align-items-center">
                                <div class="col">
                                    <h6 class="m-0 fs-14 text-muted fw-semibold"> RECENT SEARCHES </h6>
                                </div>
                            </div>
                        </div>

                        <div class="dropdown-item bg-transparent text-wrap">
                            <a href="index.html" class="btn btn-soft-secondary btn-sm btn-rounded">how to setup <i class="mdi mdi-magnify ms-1 align-middle"></i></a>
                            <a href="index.html" class="btn btn-soft-secondary btn-sm btn-rounded">buttons <i class="mdi mdi-magnify ms-1 align-middle"></i></a>
                        </div>
                    </div>

                    <div data-simplebar style="max-height: 300px;" class="pe-2 ps-3 my-3">
                        <div class="list-group list-group-flush border-dashed">
                            <div class="notification-group-list">
                                <h5 class="text-overflow text-muted fs-13 mb-2 mt-3 text-uppercase notification-title">Apps Pages</h5>
                                <a href="javascript:void(0);" class="list-group-item dropdown-item notify-item"><i class="bi bi-speedometer2 me-2"></i> <span>Analytics Dashboard</span></a>
                                <a href="javascript:void(0);" class="list-group-item dropdown-item notify-item"><i class="bi bi-filetype-psd me-2"></i> <span>Toner.psd</span></a>
                                <a href="javascript:void(0);" class="list-group-item dropdown-item notify-item"><i class="bi bi-ticket-detailed me-2"></i> <span>Support Tickets</span></a>
                                <a href="javascript:void(0);" class="list-group-item dropdown-item notify-item"><i class="bi bi-file-earmark-zip me-2"></i> <span>Toner.zip</span></a>
                            </div>

                            <div class="notification-group-list">
                                <h5 class="text-overflow text-muted fs-13 mb-2 mt-3 text-uppercase notification-title">Links</h5>
                                <a href="javascript:void(0);" class="list-group-item dropdown-item notify-item"><i class="bi bi-link-45deg me-2 align-middle"></i><span>www.themesbrand.com</span></a>
                            </div>

                            <div class="notification-group-list">
                                <h5 class="text-overflow text-muted fs-13 mb-2 mt-3 text-uppercase notification-title">People</h5>
                                <a href="javascript:void(0);" class="list-group-item dropdown-item notify-item">
                                    <div class="d-flex align-items-center">
                                        <img src="../assets/images/users/avatar-1.jpg" alt="" class="avatar-xs rounded-circle flex-shrink-0 me-2">
                                        <div>
                                            <h6 class="mb-0">Ayaan Bowen</h6>
                                            <span class="fs-12 text-muted">React Developer</span>
                                        </div>
                                    </div>
                                </a>
                                <a href="javascript:void(0);" class="list-group-item dropdown-item notify-item">
                                    <div class="d-flex align-items-center">
                                        <img src="../assets/images/users/avatar-7.jpg" alt="" class="avatar-xs rounded-circle flex-shrink-0 me-2">
                                        <div>
                                            <h6 class="mb-0">Alexander Kristi</h6>
                                            <span class="fs-12 text-muted">React Developer</span>
                                        </div>
                                    </div>
                                </a>
                                <a href="javascript:void(0);" class="list-group-item dropdown-item notify-item">
                                    <div class="d-flex align-items-center">
                                        <img src="../assets/images/users/avatar-5.jpg" alt="" class="avatar-xs rounded-circle flex-shrink-0 me-2">
                                        <div>
                                            <h6 class="mb-0">Alan Carla</h6>
                                            <span class="fs-12 text-muted">React Developer</span>
                                        </div>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- removeItemModal -->
    <div id="removeItemModal" class="modal fade zoomIn" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" id="close-modal"></button>
                </div>
                <div class="modal-body">
                    <div class="mt-2 text-center">
                        <lord-icon src="https://cdn.lordicon.com/gsqxdxog.json" trigger="loop" colors="primary:#f7b84b,secondary:#f06548" style="width:100px;height:100px"></lord-icon>
                        <div class="mt-4 pt-2 fs-15 mx-4 mx-sm-5">
                            <h4>Are you sure ?</h4>
                            <p class="text-muted mx-4 mb-0">Are you sure you want to remove this product ?</p>
                        </div>
                    </div>
                    <div class="d-flex gap-2 justify-content-center mt-4 mb-2">
                        <button type="button" class="btn w-sm btn-light" data-bs-dismiss="modal">Close</button>
                        <button type="button" class="btn w-sm btn-danger" id="remove-product">Yes, Delete It!</button>
                    </div>
                </div>

            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->

    
    <!-- end modal -->
    <!--start back-to-top-->
    <button onclick="topFunction()" class="btn btn-info btn-icon" style="bottom: 50px;" id="back-to-top">
        <i class="ri-arrow-up-line"></i>
    </button>
    <!--end back-to-top-->

    
    <div class="collapse chat-box" id="chatBot">
        <div class="card shadow-lg border-0 rounded-bottom-0 mb-0">
            <div class="card-header bg-success d-flex align-items-center border-0">
                <h5 class="text-white fs-16 fw-medium flex-grow-1 mb-0">Hi, Raquel Murillo ðŸ‘‹</h5>
                <button type="button" class="btn-close btn-close-white flex-shrink-0" onclick="chatBot()" data-bs-dismiss="collapse" aria-label="Close"></button>
            </div>
            <div class="card-body p-0">
                <div id="users-chat-widget">
                    <div class="chat-conversation p-3" id="chat-conversation" data-simplebar style="height: 280px;">
                        <ul class="list-unstyled chat-conversation-list chat-sm" id="users-conversation">
                            <li class="chat-list left">
                                <div class="conversation-list">
                                    <div class="chat-avatar">
                                        <img src="../assets/images/logo-sm.png" alt="">
                                    </div>
                                    <div class="user-chat-content">
                                        <div class="ctext-wrap">
                                            <div class="ctext-wrap-content">
                                                <p class="mb-0 ctext-content">Welcome to Themesbrand. We are here to help you. You can also directly email us at Support@themesbrand.com to schedule a meeting with our Technology Consultant.</p>
                                            </div>
                                            <div class="dropdown align-self-start message-box-drop">
                                                <a class="dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                    <i class="ri-more-2-fill"></i>
                                                </a>
                                                <div class="dropdown-menu">
                                                    <a class="dropdown-item" href="#"><i class="ri-reply-line me-2 text-muted align-bottom"></i>Reply</a>
                                                    <a class="dropdown-item" href="#"><i class="ri-file-copy-line me-2 text-muted align-bottom"></i>Copy</a>
                                                    <a class="dropdown-item delete-item" href="#"><i class="ri-delete-bin-5-line me-2 text-muted align-bottom"></i>Delete</a>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="conversation-name"><small class="text-muted time">09:07 am</small> <span class="text-success check-message-icon"><i class="ri-check-double-line align-bottom"></i></span></div>
                                    </div>
                                </div>
                            </li>
                            <!-- chat-list -->

                            <li class="chat-list right">
                                <div class="conversation-list">
                                    <div class="user-chat-content">
                                        <div class="ctext-wrap">
                                            <div class="ctext-wrap-content">
                                                <p class="mb-0 ctext-content">Good morning, How are you? What about our next meeting?</p>
                                            </div>
                                            <div class="dropdown align-self-start message-box-drop">
                                                <a class="dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                    <i class="ri-more-2-fill"></i>
                                                </a>
                                                <div class="dropdown-menu">
                                                    <a class="dropdown-item" href="#"><i class="ri-reply-line me-2 text-muted align-bottom"></i>Reply</a>
                                                    <a class="dropdown-item" href="#"><i class="ri-file-copy-line me-2 text-muted align-bottom"></i>Copy</a>
                                                    <a class="dropdown-item delete-item" href="#"><i class="ri-delete-bin-5-line me-2 text-muted align-bottom"></i>Delete</a>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="conversation-name"><small class="text-muted time">09:08 am</small> <span class="text-success check-message-icon"><i class="ri-check-double-line align-bottom"></i></span></div>
                                    </div>
                                </div>
                            </li>
                            <!-- chat-list -->

                            <li class="chat-list left">
                                <div class="conversation-list">
                                    <div class="chat-avatar">
                                        <img src="../assets/images/logo-sm.png" alt="">
                                    </div>
                                    <div class="user-chat-content">
                                        <div class="ctext-wrap">
                                            <div class="ctext-wrap-content">
                                                <p class="mb-0 ctext-content">Our next meeting  is tomorrow at 10.00 AM.</p>
                                            </div>
                                            <div class="dropdown align-self-start message-box-drop">
                                                <a class="dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                    <i class="ri-more-2-fill"></i>
                                                </a>
                                                <div class="dropdown-menu">
                                                    <a class="dropdown-item" href="#"><i class="ri-reply-line me-2 text-muted align-bottom"></i>Reply</a>
                                                    <a class="dropdown-item" href="#"><i class="ri-file-copy-line me-2 text-muted align-bottom"></i>Copy</a>
                                                    <a class="dropdown-item delete-item" href="#"><i class="ri-delete-bin-5-line me-2 text-muted align-bottom"></i>Delete</a>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="conversation-name"><small class="text-muted time">09:10 am</small> <span class="text-success check-message-icon"><i class="ri-check-double-line align-bottom"></i></span></div>
                                    </div>
                                </div>
                            </li>
                            <!-- chat-list -->

                        </ul>
                    </div>
                </div>
                <div class="border-top border-top-dashed">
                    <div class="row g-2 mt-2 mx-3 mb-3">
                        <div class="col">
                            <div class="position-relative">
                                <input type="text" class="form-control border-light bg-light" placeholder="Enter Message...">
                            </div>
                        </div><!-- end col -->
                        <div class="col-auto">
                            <button type="submit" class="btn btn-info"><i class="mdi mdi-send"></i></button>
                        </div><!-- end col -->
                    </div><!-- end row -->
                </div>
            </div>
        </div>
    </div>


    <section class="page-wrapper bg-primary">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="text-center d-flex align-items-center justify-content-between">
                        <h4 class="text-white mb-0">Checkout</h4>
                    
                    </div>
                </div>
                <!--end col-->
            </div>
            <!--end row-->
        </div>
        <!--end container-->
    </section>

    <section class="section">
        <div class="container">
           
            <div class="row">
                <div class="col-xl-8">
                    <div class="card">
                        <div class="card-body">
                            <div class="mb-4">
                                <a href="/add-checkoutaddress" class="btn btn-primary w-10 w-md-auto" id="addAddressButton">Add Address</a>
                            </div>
                            <% if(address.length > 0) { %>
                                <div class="row">
                                    <% for (let i = 0; i < address.length; i++) { %>  
                                        <div class="col-lg-6">
                                            <div class="mt-4 pt-2">
                                               <div class="d-flex align-items-center mb-4">
                                                    <div class="flex-grow-1">
                                                        <h5 class="mb-0">Shipping Address</h5>
                                                    </div>
                                                </div>
                                                <div class="row gy-3">
                                                    <div class="col-12">
                                                        <div class="form-check card-radio">
                                                            <input id="shippingAddress<%= i %>" name="selectedAddress" type="radio" value="<%= address[i]._id %>" class="form-check-input" <%= i === 0 ? 'checked' : '' %>> <!-- Ensures the first address is selected by default -->
                                                            <label class="form-check-label" for="shippingAddress<%= i %>">
                                                                <div class="d-flex flex-column">
                                                                    <span class="mb-3 text-uppercase fw-semibold d-block">Home Address</span>
                                                                    <span class="fs-14 mb-2 d-block fw-semibold"><%= address[i].fullName %></span>
                                                                    <span class="text-muted fw-normal text-wrap mb-1 d-block"><%= address[i].addressLine1 %>, <%= address[i].city %>, <%= address[i].state %> <%= address[i].postalCode %></span>
                                                                    <span class="text-muted fw-normal d-block">Phone number: <%= address[i].phoneNumber %></span>
                                                                </div>
                                                            </label>
                                                        </div>
                                                        <div class="d-flex justify-content-center p-2 py-1 bg-white rounded-bottom white-border mt-2">
                                                            <a href="/edit-checkoutaddress/<%= address[i]._id %>" 
                                                               class="btn btn-sm btn-outline-primary d-flex align-items-center w-20 w-md-auto">
                                                                Edit
                                                            </a>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                                
                                              
                                            </div>
                                        </div>
                                    <% } %>
                                </div>
                            <% } %>
                        </div>
                    </div>
                </div>
                
                
                <!-- end col -->
                <div class="col-lg-4">
                    <div class="sticky-side-div">
                        <div class="card">
                            <div class="card-body">
                                <div class="text-center">
                                    <h6 class="mb-3 fs-14">Have a <span class="fw-semibold">coupon</span> code?</h6>
                                </div>
                                <% if (saveData[0].coupon === "Not Applied") { %>
                                    <div class="hstack gap-3 px-3 mx-n3 flex-wrap">
                                        <input class="form-control me-auto mb-2 mb-md-0" 
                                               id="couponCode" 
                                               type="text" 
                                               placeholder="Enter coupon code" 
                                               aria-label="Add Promo Code here...">
                                        <button type="button" class="btn btn-success w-100 w-md-auto" id="applyCoupon">Apply</button>
                                    </div>
                                <% } else { %>
                                    <div class="hstack gap-3 px-3 mx-n3">
                                        <input class="form-control me-auto" id="couponCode" type="text" placeholder="Enter coupon code" aria-label="Add Promo Code here...">
                                        <button type="button" class="btn btn-danger w-xs" id="removeCouponBtn" style="width: 120px;">Remove</button>
                                    </div>
                                <% } %>
                        
                                <div class="text-center mt-4">
                                    <% if (coup.length === 0) { %>
                                        <p>No coupons available</p>
                                    <% } else { %>
                                        <h6 class="mb-3 fs-15">Available Coupons:</h6>
                                        <select name="coupon" class="form-control">
                                            <option value="" selected disabled>Select Coupon</option>
                                            <% coup.forEach(coupon => { %>
                                                <option value="<%= coupon._id %>" data-code="<%= coupon.couponCode %>">
                                                    <%= coupon.couponCode %> 
                                                </option>
                                            <% }); %>
                                        </select>
                                        <% coup.forEach(coupon => { %>
                                            <input type="hidden" id="productId" value="<%= coupon._id %>">
                                        <% }); %>
                                    <% } %>
                                </div>
                            </div>
                        </div>
                        
                        
                        <div class="card overflow-hidden">
                            <div class="card-header border-bottom-dashed">
                                <h5 class="card-title mb-0 fs-15">Order Summary</h5>
                            </div>
                            <div class="card-body pt-4">
                                <div class="table-responsive table-card">
                                    <table class="table table-borderless mb-0 fs-15">
                                        <tbody>
                                            <tr>
                                                <td>Sub Total :</td>
                                                <td class="text-end cart-subtotal"><%= total %></td>
                                            </tr>
                                         
                                          
                                            <tr class="table-active">
                                                <th>Total (Rupees) :</th>
                                                <td class="text-end">
                                                    <span class="fw-semibold cart-total">Rs<%= total %></span>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <!-- end table-responsive -->
                            </div>
                        </div>
                        <div class="hstack gap-2 justify-content-between justify-content-end flex-wrap">
                            <a class="btn btn-hover btn-primary w-100 w-md-auto" id="payment_btn">Continue Payment</a>
                        </div>
                        
                    </div>
                    <!-- end sticky -->
                </div><!--end col-->
            </div><!--end row-->
        </div><!--end container-->
    </section>
    <!-- removeAddressModal -->
    <div id="removeAddressModal" class="modal fade zoomIn" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" id="close-modal"></button>
                </div>
                <div class="modal-body">
                    <div class="mt-2 text-center">
                        <lord-icon src="https://cdn.lordicon.com/gsqxdxog.json" trigger="loop" colors="primary:#f7b84b,secondary:#f06548" style="width:100px;height:100px"></lord-icon>
                        <div class="mt-4 pt-2 fs-15 mx-4 mx-sm-5">
                            <h4>Are you sure ?</h4>
                            <p class="text-muted mx-4 mb-0">Are you sure you want to remove this Address?</p>
                        </div>
                    </div>
                    <div class="d-flex gap-2 justify-content-center mt-4 mb-2">
                        <button type="button" class="btn w-sm btn-light" data-bs-dismiss="modal">Close</button>
                        <button type="button" class="btn w-sm btn-danger">Yes, Delete It!</button>
                    </div>
                </div>
    
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->
<script>
    const btn = document.getElementById("payment_btn");
btn.addEventListener("click", () => {
  const addressId = getSelectedAddressId();
  if (addressId !== null) {
    window.location.href = `/payment?addressId=${addressId}`;
  } else {
    document.getElementById("selectedAddress").innerHTML =
      "Please Select an address";
  }
});

// Function to get selected address ID
function getSelectedAddressId() {
  const selectedRadio = document.querySelector(
    'input[name="selectedAddress"]:checked'
  );
  if (selectedRadio) {
    selectedAddressId = selectedRadio.value;
    return selectedAddressId;
  } else {
    returnÂ null;
Â Â }
}
</script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
document.getElementById('applyCoupon').addEventListener('click', function() {
console.log('dfsdf')
var couponCode = document.getElementById('couponCode').value;
var productId = document.querySelector('input[type="hidden"]').value;
    
console.log(couponCode);
console.log(productId);
    // Display confirmation message using SweetAlert
    Swal.fire({
        title: 'Are you sure?',
        text: 'This coupon will be applied!',
        icon: 'warning',
        showCancelButton: false,
        confirmButtonText: 'Yes, list it!',
        cancelButtonText: 'Cancel'
    }).then((result) => {
        if (result.isConfirmed) {
            console.log("hi")
            // Send a fetch request to your server with couponCode and productId in the body
            fetch('/applyCoupon', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ couponCode: couponCode, productId: productId })

            }) .then(response => response.json())
            .then(data => {
                if (data.success) {
                    // Display success message using SweetAlert
                    Swal.fire('Listed!', 'The coupon has been applied.', 'success');
                    // Reload the page after successful listing
                    window.location.reload(true);
                } else {
                    throw new Error('Already use this coupon .');
                }
            })
            .catch(error => {
                console.error(error);
                // Display error message using SweetAlert
                Swal.fire('Error!', 'Failed to use this coupon.', 'error');
            });
        }
    });
});})
</script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Attach event listener to the "Remove" button
        document.getElementById('removeCouponBtn').addEventListener('click', function() {
        var couponCode = document.getElementById('couponCode').value;
        console.log(couponCode)
        console.log("hello remove");
        // Send a fetch request to remove the coupon
        Swal.fire({
            title: 'Are you sure?',
            text: 'This coupon will be removed!',
            icon: 'warning',
            showCancelButton: false,
            confirmButtonText: 'Yes, list it!',
            cancelButtonText: 'Cancel'
        }).then((result) => { if (result.isConfirmed) {
            fetch('/removeCoupon', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ couponCode: couponCode }) // Replace with actual coupon code
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    // Coupon removed successfully, handle the response as needed
                    Swal.fire('Listed!', 'The coupon has been removed.', 'success');
                    console.log('Coupon removed successfully');
                    window.location.reload(true);
                } else {
                    // Failed to remove the coupon, handle the response as needed
                    console.error('Failed to remove the coupon:', data.message);
                    Swal.fire('Error!', 'Failed to remove the coupon.', 'error');
                }
            })
            .catch(error => {
                console.error('Error removing the coupon:', error);
                // Handle any errors that occur during the fetch request
                Swal.fire('Error!', 'Failed to remove the coupon.', 'error');
            });
        }
    });
});})
</script>
<!-- footer -->
    <!-- JAVASCRIPT -->
    <script src="/libs/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="/libs/simplebar/simplebar.min.js"></script>
    <script src="/js/plugins.js"></script>
<!-- form wizard init -->
    <script src="/js/pages/form-wizard.init.js"></script>
    <!-- landing-index js -->
    <script src="/js/frontend/menu.init.js"></script>
</body>